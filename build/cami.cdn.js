var cami=(()=>{var Y=Object.defineProperty;var ht=Object.getOwnPropertyDescriptor;var ft=Object.getOwnPropertyNames;var Ne=Object.getOwnPropertySymbols;var ze=Object.prototype.hasOwnProperty;var dt=Object.prototype.propertyIsEnumerable;var Oe=(t,e)=>{if(e=Symbol[t])return e;throw Error("Symbol."+t+" is not defined")};var De=(t,e,r)=>e in t?Y(t,e,{enumerable:true,configurable:true,writable:true,value:r}):t[e]=r;var Me=(t,e)=>{for(var r in e||(e={}))if(ze.call(e,r))De(t,r,e[r]);if(Ne)for(var r of Ne(e)){if(dt.call(e,r))De(t,r,e[r])}return t};var pt=(t,e)=>{for(var r in e)Y(t,r,{get:e[r],enumerable:true})};var _t=(t,e,r,n)=>{if(e&&typeof e==="object"||typeof e==="function"){for(let s of ft(e))if(!ze.call(t,s)&&s!==r)Y(t,s,{get:()=>e[s],enumerable:!(n=ht(e,s))||n.enumerable})}return t};var mt=t=>_t(Y({},"__esModule",{value:true}),t);var k=(t,e,r)=>{return new Promise((n,s)=>{var i=c=>{try{a(r.next(c))}catch(u){s(u)}};var o=c=>{try{a(r.throw(c))}catch(u){s(u)}};var a=c=>c.done?n(c.value):Promise.resolve(c.value).then(i,o);a((r=r.apply(t,e)).next())})};var Te=(t,e,r)=>(e=t[Oe("asyncIterator")])?e.call(t):(t=t[Oe("iterator")](),e={},r=(n,s)=>(s=t[n])&&(e[n]=i=>new Promise((o,a,c)=>(i=s.call(t,i),c=i.done,Promise.resolve(i.value).then(u=>o({value:u,done:c}),a)))),r("next"),r("return"),e);var zt={};pt(zt,{Observable:()=>w,ObservableElement:()=>oe,ObservableState:()=>N,ObservableStream:()=>I,ReactiveElement:()=>Ce,define:()=>Dt,html:()=>qe,store:()=>lt});var j=globalThis;var Z=j.trustedTypes;var Ie=Z?Z.createPolicy("lit-html",{createHTML:t=>t}):void 0;var We="$lit$";var A=`lit$${(Math.random()+"").slice(9)}$`;var Be="?"+A;var yt=`<${Be}>`;var x=document;var W=()=>x.createComment("");var B=t=>null===t||"object"!=typeof t&&"function"!=typeof t;var Ve=Array.isArray;var bt=t=>Ve(t)||"function"==typeof(t==null?void 0:t[Symbol.iterator]);var le="[ 	\n\f\r]";var R=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g;var He=/-->/g;var Fe=/>/g;var v=RegExp(`>|${le}(?:([^\\s"'>=/]+)(${le}*=${le}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g");var Ue=/'/g;var ke=/"/g;var Le=/^(?:script|style|textarea|title)$/i;var Xe=t=>(e,...r)=>({_$litType$:t,strings:e,values:r});var qe=Xe(1);var Tt=Xe(2);var V=Symbol.for("lit-noChange");var d=Symbol.for("lit-nothing");var Re=new WeakMap;var $=x.createTreeWalker(x,129);function Qe(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==Ie?Ie.createHTML(e):e}var gt=(t,e)=>{const r=t.length-1,n=[];let s,i=2===e?"<svg>":"",o=R;for(let a=0;a<r;a++){const c=t[a];let u,h,l=-1,y=0;for(;y<c.length&&(o.lastIndex=y,h=o.exec(c),null!==h);)y=o.lastIndex,o===R?"!--"===h[1]?o=He:void 0!==h[1]?o=Fe:void 0!==h[2]?(Le.test(h[2])&&(s=RegExp("</"+h[2],"g")),o=v):void 0!==h[3]&&(o=v):o===v?">"===h[0]?(o=s!=null?s:R,l=-1):void 0===h[1]?l=-2:(l=o.lastIndex-h[2].length,u=h[1],o=void 0===h[3]?v:'"'===h[3]?ke:Ue):o===ke||o===Ue?o=v:o===He||o===Fe?o=R:(o=v,s=void 0);const g=o===v&&t[a+1].startsWith("/>")?" ":"";i+=o===R?c+yt:l>=0?(n.push(u),c.slice(0,l)+We+c.slice(l)+A+g):c+A+(-2===l?a:g)}return[Qe(t,i+(t[r]||"<?>")+(2===e?"</svg>":"")),n]};var L=class t{constructor({strings:e,_$litType$:r},n){let s;this.parts=[];let i=0,o=0;const a=e.length-1,c=this.parts,[u,h]=gt(e,r);if(this.el=t.createElement(u,n),$.currentNode=this.el.content,2===r){const l=this.el.content.firstChild;l.replaceWith(...l.childNodes)}for(;null!==(s=$.nextNode())&&c.length<a;){if(1===s.nodeType){if(s.hasAttributes())for(const l of s.getAttributeNames())if(l.endsWith(We)){const y=h[o++],g=s.getAttribute(l).split(A),O=/([.?@])?(.*)/.exec(y);c.push({type:1,index:i,name:O[2],strings:g,ctor:"."===O[1]?de:"?"===O[1]?pe:"@"===O[1]?_e:z}),s.removeAttribute(l)}else l.startsWith(A)&&(c.push({type:6,index:i}),s.removeAttribute(l));if(Le.test(s.tagName)){const l=s.textContent.split(A),y=l.length-1;if(y>0){s.textContent=Z?Z.emptyScript:"";for(let g=0;g<y;g++)s.append(l[g],W()),$.nextNode(),c.push({type:2,index:++i});s.append(l[y],W())}}}else if(8===s.nodeType)if(s.data===Be)c.push({type:2,index:i});else{let l=-1;for(;-1!==(l=s.data.indexOf(A,l+1));)c.push({type:7,index:i}),l+=A.length-1}i++}}static createElement(e,r){const n=x.createElement("template");return n.innerHTML=e,n}};function D(t,e,r=t,n){var o,a,c;if(e===V)return e;let s=void 0!==n?(o=r._$Co)==null?void 0:o[n]:r._$Cl;const i=B(e)?void 0:e._$litDirective$;return(s==null?void 0:s.constructor)!==i&&((a=s==null?void 0:s._$AO)==null?void 0:a.call(s,false),void 0===i?s=void 0:(s=new i(t),s._$AT(t,r,n)),void 0!==n?((c=r._$Co)!=null?c:r._$Co=[])[n]=s:r._$Cl=s),void 0!==s&&(e=D(t,s._$AS(t,e.values),s,n)),e}var fe=class{constructor(e,r){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var u;const{el:{content:r},parts:n}=this._$AD,s=((u=e==null?void 0:e.creationScope)!=null?u:x).importNode(r,true);$.currentNode=s;let i=$.nextNode(),o=0,a=0,c=n[0];for(;void 0!==c;){if(o===c.index){let h;2===c.type?h=new X(i,i.nextSibling,this,e):1===c.type?h=new c.ctor(i,c.name,c.strings,this,e):6===c.type&&(h=new me(i,this,e)),this._$AV.push(h),c=n[++a]}o!==(c==null?void 0:c.index)&&(i=$.nextNode(),o++)}return $.currentNode=x,s}p(e){let r=0;for(const n of this._$AV)void 0!==n&&(void 0!==n.strings?(n._$AI(e,n,r),r+=n.strings.length-2):n._$AI(e[r])),r++}};var X=class t{get _$AU(){var e,r;return(r=(e=this._$AM)==null?void 0:e._$AU)!=null?r:this._$Cv}constructor(e,r,n,s){var i;this.type=2,this._$AH=d,this._$AN=void 0,this._$AA=e,this._$AB=r,this._$AM=n,this.options=s,this._$Cv=(i=s==null?void 0:s.isConnected)!=null?i:true}get parentNode(){let e=this._$AA.parentNode;const r=this._$AM;return void 0!==r&&11===(e==null?void 0:e.nodeType)&&(e=r.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,r=this){e=D(this,e,r),B(e)?e===d||null==e||""===e?(this._$AH!==d&&this._$AR(),this._$AH=d):e!==this._$AH&&e!==V&&this._(e):void 0!==e._$litType$?this.g(e):void 0!==e.nodeType?this.$(e):bt(e)?this.T(e):this._(e)}k(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}$(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}_(e){this._$AH!==d&&B(this._$AH)?this._$AA.nextSibling.data=e:this.$(x.createTextNode(e)),this._$AH=e}g(e){var i;const{values:r,_$litType$:n}=e,s="number"==typeof n?this._$AC(e):(void 0===n.el&&(n.el=L.createElement(Qe(n.h,n.h[0]),this.options)),n);if(((i=this._$AH)==null?void 0:i._$AD)===s)this._$AH.p(r);else{const o=new fe(s,this),a=o.u(this.options);o.p(r),this.$(a),this._$AH=o}}_$AC(e){let r=Re.get(e.strings);return void 0===r&&Re.set(e.strings,r=new L(e)),r}T(e){Ve(this._$AH)||(this._$AH=[],this._$AR());const r=this._$AH;let n,s=0;for(const i of e)s===r.length?r.push(n=new t(this.k(W()),this.k(W()),this,this.options)):n=r[s],n._$AI(i),s++;s<r.length&&(this._$AR(n&&n._$AB.nextSibling,s),r.length=s)}_$AR(e=this._$AA.nextSibling,r){var n;for((n=this._$AP)==null?void 0:n.call(this,false,true,r);e&&e!==this._$AB;){const s=e.nextSibling;e.remove(),e=s}}setConnected(e){var r;void 0===this._$AM&&(this._$Cv=e,(r=this._$AP)==null?void 0:r.call(this,e))}};var z=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,r,n,s,i){this.type=1,this._$AH=d,this._$AN=void 0,this.element=e,this.name=r,this._$AM=s,this.options=i,n.length>2||""!==n[0]||""!==n[1]?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=d}_$AI(e,r=this,n,s){const i=this.strings;let o=false;if(void 0===i)e=D(this,e,r,0),o=!B(e)||e!==this._$AH&&e!==V,o&&(this._$AH=e);else{const a=e;let c,u;for(e=i[0],c=0;c<i.length-1;c++)u=D(this,a[n+c],r,c),u===V&&(u=this._$AH[c]),o||(o=!B(u)||u!==this._$AH[c]),u===d?e=d:e!==d&&(e+=(u!=null?u:"")+i[c+1]),this._$AH[c]=u}o&&!s&&this.j(e)}j(e){e===d?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}};var de=class extends z{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===d?void 0:e}};var pe=class extends z{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==d)}};var _e=class extends z{constructor(e,r,n,s,i){super(e,r,n,s,i),this.type=5}_$AI(e,r=this){var o;if((e=(o=D(this,e,r,0))!=null?o:d)===V)return;const n=this._$AH,s=e===d&&n!==d||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,i=e!==d&&(n===d||s);s&&this.element.removeEventListener(this.name,this,n),i&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var r,n;"function"==typeof this._$AH?this._$AH.call((n=(r=this.options)==null?void 0:r.host)!=null?n:this.element,e):this._$AH.handleEvent(e)}};var me=class{constructor(e,r,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=r,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){D(this,e)}};var he=j.litHtmlPolyfillSupport;var je;he==null?void 0:he(L,X),((je=j.litHtmlVersions)!=null?je:j.litHtmlVersions=[]).push("3.0.0");var Ge=(t,e,r)=>{var i,o;const n=(i=r==null?void 0:r.renderBefore)!=null?i:e;let s=n._$litPart$;if(void 0===s){const a=(o=r==null?void 0:r.renderBefore)!=null?o:null;n._$litPart$=s=new X(e.insertBefore(W(),a),a,void 0,r!=null?r:{})}return s._$AI(t),s};var tt=Symbol.for("immer-nothing");var Ke=Symbol.for("immer-draftable");var _=Symbol.for("immer-state");var At=true?[function(t){return`The plugin for '${t}' has not been loaded into Immer. To enable the plugin, import and call \`enable${t}()\` when initializing your application.`},function(t){return`produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '${t}'`},"This object has been frozen and should not be mutated",function(t){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+t},"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.","Immer forbids circular references","The first or second argument to `produce` must be a function","The third argument to `produce` must be a function or undefined","First argument to `createDraft` must be a plain object, an array, or an immerable object","First argument to `finishDraft` must be a draft returned by `createDraft`",function(t){return`'current' expects a draft, got: ${t}`},"Object.defineProperty() cannot be used on an Immer draft","Object.setPrototypeOf() cannot be used on an Immer draft","Immer only supports deleting array indices","Immer only supports setting array indices and the 'length' property",function(t){return`'original' expects a draft, got: ${t}`}]:[];function p(t,...e){if(true){const r=At[t];const n=typeof r==="function"?r.apply(null,e):r;throw new Error(`[Immer] ${n}`)}throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var M=Object.getPrototypeOf;function T(t){return!!t&&!!t[_]}function S(t){var e;if(!t)return false;return rt(t)||Array.isArray(t)||!!t[Ke]||!!((e=t.constructor)==null?void 0:e[Ke])||ne(t)||se(t)}var wt=Object.prototype.constructor.toString();function rt(t){if(!t||typeof t!=="object")return false;const e=M(t);if(e===null){return true}const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(r===Object)return true;return typeof r=="function"&&Function.toString.call(r)===wt}function q(t,e){if(re(t)===0){Object.entries(t).forEach(([r,n])=>{e(r,n,t)})}else{t.forEach((r,n)=>e(n,r,t))}}function re(t){const e=t[_];return e?e.type_:Array.isArray(t)?1:ne(t)?2:se(t)?3:0}function ge(t,e){return re(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function nt(t,e,r){const n=re(t);if(n===2)t.set(e,r);else if(n===3){t.add(r)}else t[e]=r}function vt(t,e){if(t===e){return t!==0||1/t===1/e}else{return t!==t&&e!==e}}function ne(t){return t instanceof Map}function se(t){return t instanceof Set}function E(t){return t.copy_||t.base_}function Ae(t,e){if(ne(t)){return new Map(t)}if(se(t)){return new Set(t)}if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&rt(t)){if(!M(t)){const s=Object.create(null);return Object.assign(s,t)}return Me({},t)}const r=Object.getOwnPropertyDescriptors(t);delete r[_];let n=Reflect.ownKeys(r);for(let s=0;s<n.length;s++){const i=n[s];const o=r[i];if(o.writable===false){o.writable=true;o.configurable=true}if(o.get||o.set)r[i]={configurable:true,writable:true,enumerable:o.enumerable,value:t[i]}}return Object.create(M(t),r)}function Ee(t,e=false){if(ie(t)||T(t)||!S(t))return t;if(re(t)>1){t.set=t.add=t.clear=t.delete=$t}Object.freeze(t);if(e)q(t,(r,n)=>Ee(n,true),true);return t}function $t(){p(2)}function ie(t){return Object.isFrozen(t)}var xt={};function P(t){const e=xt[t];if(!e){p(0,t)}return e}var Q;function st(){return Q}function Et(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:true,unfinalizedDrafts_:0}}function Je(t,e){if(e){P("Patches");t.patches_=[];t.inversePatches_=[];t.patchListener_=e}}function we(t){ve(t);t.drafts_.forEach(St);t.drafts_=null}function ve(t){if(t===Q){Q=t.parent_}}function Ye(t){return Q=Et(Q,t)}function St(t){const e=t[_];if(e.type_===0||e.type_===1)e.revoke_();else e.revoked_=true}function Ze(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];const n=t!==void 0&&t!==r;if(n){if(r[_].modified_){we(e);p(4)}if(S(t)){t=ee(e,t);if(!e.parent_)te(e,t)}if(e.patches_){P("Patches").generateReplacementPatches_(r[_].base_,t,e.patches_,e.inversePatches_)}}else{t=ee(e,r,[])}we(e);if(e.patches_){e.patchListener_(e.patches_,e.inversePatches_)}return t!==tt?t:void 0}function ee(t,e,r){if(ie(e))return e;const n=e[_];if(!n){q(e,(s,i)=>et(t,n,e,s,i,r),true);return e}if(n.scope_!==t)return e;if(!n.modified_){te(t,n.base_,true);return n.base_}if(!n.finalized_){n.finalized_=true;n.scope_.unfinalizedDrafts_--;const s=n.copy_;let i=s;let o=false;if(n.type_===3){i=new Set(s);s.clear();o=true}q(i,(a,c)=>et(t,n,s,a,c,r,o));te(t,s,false);if(r&&t.patches_){P("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}}return n.copy_}function et(t,e,r,n,s,i,o){if(s===r)p(5);if(T(s)){const a=i&&e&&e.type_!==3&&!ge(e.assigned_,n)?i.concat(n):void 0;const c=ee(t,s,a);nt(r,n,c);if(T(c)){t.canAutoFreeze_=false}else return}else if(o){r.add(s)}if(S(s)&&!ie(s)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1){return}ee(t,s);if(!e||!e.scope_.parent_)te(t,s)}}function te(t,e,r=false){if(!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_){Ee(e,r)}}function Pt(t,e){const r=Array.isArray(t);const n={type_:r?1:0,scope_:e?e.scope_:st(),modified_:false,finalized_:false,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:false};let s=n;let i=Se;if(r){s=[n];i=G}const{revoke:o,proxy:a}=Proxy.revocable(s,i);n.draft_=a;n.revoke_=o;return a}var Se={get(t,e){if(e===_)return t;const r=E(t);if(!ge(r,e)){return Ct(t,r,e)}const n=r[e];if(t.finalized_||!S(n)){return n}if(n===ye(t.base_,e)){be(t);return t.copy_[e]=xe(n,t)}return n},has(t,e){return e in E(t)},ownKeys(t){return Reflect.ownKeys(E(t))},set(t,e,r){const n=it(E(t),e);if(n==null?void 0:n.set){n.set.call(t.draft_,r);return true}if(!t.modified_){const s=ye(E(t),e);const i=s==null?void 0:s[_];if(i&&i.base_===r){t.copy_[e]=r;t.assigned_[e]=false;return true}if(vt(r,s)&&(r!==void 0||ge(t.base_,e)))return true;be(t);$e(t)}if(t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e]))return true;t.copy_[e]=r;t.assigned_[e]=true;return true},deleteProperty(t,e){if(ye(t.base_,e)!==void 0||e in t.base_){t.assigned_[e]=false;be(t);$e(t)}else{delete t.assigned_[e]}if(t.copy_){delete t.copy_[e]}return true},getOwnPropertyDescriptor(t,e){const r=E(t);const n=Reflect.getOwnPropertyDescriptor(r,e);if(!n)return n;return{writable:true,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){p(11)},getPrototypeOf(t){return M(t.base_)},setPrototypeOf(){p(12)}};var G={};q(Se,(t,e)=>{G[t]=function(){arguments[0]=arguments[0][0];return e.apply(this,arguments)}});G.deleteProperty=function(t,e){if(isNaN(parseInt(e)))p(13);return G.set.call(this,t,e,void 0)};G.set=function(t,e,r){if(e!=="length"&&isNaN(parseInt(e)))p(14);return Se.set.call(this,t[0],e,r,t[0])};function ye(t,e){const r=t[_];const n=r?E(r):t;return n[e]}function Ct(t,e,r){var s;const n=it(e,r);return n?`value`in n?n.value:(s=n.get)==null?void 0:s.call(t.draft_):void 0}function it(t,e){if(!(e in t))return void 0;let r=M(t);while(r){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=M(r)}return void 0}function $e(t){if(!t.modified_){t.modified_=true;if(t.parent_){$e(t.parent_)}}}function be(t){if(!t.copy_){t.copy_=Ae(t.base_,t.scope_.immer_.useStrictShallowCopy_)}}var Nt=class{constructor(t){this.autoFreeze_=true;this.useStrictShallowCopy_=false;this.produce=(e,r,n)=>{if(typeof e==="function"&&typeof r!=="function"){const i=r;r=e;const o=this;return function a(c=i,...u){return o.produce(c,h=>r.call(this,h,...u))}}if(typeof r!=="function")p(6);if(n!==void 0&&typeof n!=="function")p(7);let s;if(S(e)){const i=Ye(this);const o=xe(e,void 0);let a=true;try{s=r(o);a=false}finally{if(a)we(i);else ve(i)}Je(i,n);return Ze(s,i)}else if(!e||typeof e!=="object"){s=r(e);if(s===void 0)s=e;if(s===tt)s=void 0;if(this.autoFreeze_)Ee(s,true);if(n){const i=[];const o=[];P("Patches").generateReplacementPatches_(e,s,i,o);n(i,o)}return s}else p(1,e)};this.produceWithPatches=(e,r)=>{if(typeof e==="function"){return(o,...a)=>this.produceWithPatches(o,c=>e(c,...a))}let n,s;const i=this.produce(e,r,(o,a)=>{n=o;s=a});return[i,n,s]};if(typeof(t==null?void 0:t.autoFreeze)==="boolean")this.setAutoFreeze(t.autoFreeze);if(typeof(t==null?void 0:t.useStrictShallowCopy)==="boolean")this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){if(!S(t))p(8);if(T(t))t=Ot(t);const e=Ye(this);const r=xe(t,void 0);r[_].isManual_=true;ve(e);return r}finishDraft(t,e){const r=t&&t[_];if(!r||!r.isManual_)p(9);const{scope_:n}=r;Je(n,e);return Ze(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const s=e[r];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}if(r>-1){e=e.slice(r+1)}const n=P("Patches").applyPatches_;if(T(t)){return n(t,e)}return this.produce(t,s=>n(s,e))}};function xe(t,e){const r=ne(t)?P("MapSet").proxyMap_(t,e):se(t)?P("MapSet").proxySet_(t,e):Pt(t,e);const n=e?e.scope_:st();n.drafts_.push(r);return r}function Ot(t){if(!T(t))p(10,t);return ot(t)}function ot(t){if(!S(t)||ie(t))return t;const e=t[_];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=true;r=Ae(t,e.scope_.immer_.useStrictShallowCopy_)}else{r=Ae(t,true)}q(r,(n,s)=>{nt(r,n,ot(s))});if(e){e.finalized_=false}return r}var m=new Nt;var C=m.produce;var Ht=m.produceWithPatches.bind(m);var Ft=m.setAutoFreeze.bind(m);var Ut=m.setUseStrictShallowCopy.bind(m);var kt=m.applyPatches.bind(m);var Rt=m.createDraft.bind(m);var jt=m.finishDraft.bind(m);var Pe=class{constructor(e){if(typeof e==="function"){this.observer={next:e}}else{this.observer=e}this.teardowns=[];if(typeof AbortController!=="undefined"){this.controller=new AbortController;this.signal=this.controller.signal}this.isUnsubscribed=false}next(e){if(!this.isUnsubscribed&&this.observer.next){this.observer.next(e)}}complete(){if(!this.isUnsubscribed){if(this.observer.complete){this.observer.complete()}this.unsubscribe()}}error(e){if(!this.isUnsubscribed){if(this.observer.error){this.observer.error(e)}this.unsubscribe()}}addTeardown(e){this.teardowns.push(e)}unsubscribe(){if(!this.isUnsubscribed){this.isUnsubscribed=true;if(this.controller){this.controller.abort()}this.teardowns.forEach(e=>{if(typeof e!=="function"){throw new Error("[Cami.js] Teardown must be a function. Please implement a teardown function in your subscriber.")}e()})}}};var w=class{constructor(e=()=>()=>{}){this._observers=[];this.subscribeCallback=e}subscribe(e=()=>{},r=()=>{},n=()=>{}){let s;if(typeof e==="function"){s={next:e,error:r,complete:n}}else if(typeof e==="object"){s=e}else{throw new Error("[Cami.js] First argument to subscribe must be a next callback or an observer object")}const i=new Pe(s);let o=()=>{};try{o=this.subscribeCallback(i)}catch(a){if(i.error){i.error(a)}else{console.error("[Cami.js] Error in Subscriber:",a)}return}i.addTeardown(o);this._observers.push(i);return{unsubscribe:()=>i.unsubscribe(),complete:()=>i.complete(),error:a=>i.error(a)}}onValue(e){return this.subscribe({next:e})}onError(e){return this.subscribe({error:e})}onEnd(e){return this.subscribe({complete:e})}[Symbol.asyncIterator](){let e;let r;let n=new Promise(s=>r=s);e={next:s=>{r({value:s,done:false});n=new Promise(i=>r=i)},complete:()=>{r({done:true})},error:s=>{throw s}};this.subscribe(e);return{next:()=>n}}};var I=class t extends w{static from(e){if(e instanceof w){return new t(r=>{const n=e.subscribe({next:s=>r.next(s),error:s=>r.error(s),complete:()=>r.complete()});return()=>{if(!n.closed){n.unsubscribe()}}})}else if(e[Symbol.asyncIterator]){return new t(r=>{let n=false;(()=>k(this,null,function*(){try{try{for(var s=Te(e),i,o,a;i=!(o=yield s.next()).done;i=false){const c=o.value;if(n)return;r.next(c)}}catch(o){a=[o]}finally{try{i&&(o=s.return)&&(yield o.call(s))}finally{if(a)throw a[0]}}r.complete()}catch(c){r.error(c)}}))();return()=>{n=true}})}else if(e[Symbol.iterator]){return new t(r=>{try{for(const n of e){r.next(n)}r.complete()}catch(n){r.error(n)}return()=>{if(!subscription.closed){subscription.unsubscribe()}}})}else if(e instanceof Promise){return new t(r=>{e.then(n=>{r.next(n);r.complete()},n=>r.error(n));return()=>{}})}else{throw new TypeError("[Cami.js] ObservableStream.from requires an Observable, AsyncIterable, Iterable, or Promise")}}map(e){return new t(r=>{const n=this.subscribe({next:s=>r.next(e(s)),error:s=>r.error(s),complete:()=>r.complete()});return()=>n.unsubscribe()})}filter(e){return new t(r=>{const n=this.subscribe({next:s=>{if(e(s)){r.next(s)}},error:s=>r.error(s),complete:()=>r.complete()});return()=>n.unsubscribe()})}reduce(e,r){return new Promise((n,s)=>{let i=r;const o=this.subscribe({next:a=>{i=e(i,a)},error:a=>s(a),complete:()=>n(i)});return()=>o.unsubscribe()})}takeUntil(e){return new t(r=>{const n=this.subscribe({next:i=>r.next(i),error:i=>r.error(i),complete:()=>r.complete()});const s=e.subscribe({next:()=>{r.complete();n.unsubscribe();s.unsubscribe()},error:i=>r.error(i)});return()=>{n.unsubscribe();s.unsubscribe()}})}take(e){return new t(r=>{let n=0;const s=this.subscribe({next:i=>{if(n++<e){r.next(i)}else{r.complete();s.unsubscribe()}},error:i=>r.error(i),complete:()=>r.complete()});return()=>s.unsubscribe()})}drop(e){return new t(r=>{let n=0;const s=this.subscribe({next:i=>{if(n++>=e){r.next(i)}},error:i=>r.error(i),complete:()=>r.complete()});return()=>s.unsubscribe()})}flatMap(e){return new t(r=>{const n=new Set;const s=this.subscribe({next:i=>{const o=e(i);const a=o.subscribe({next:c=>r.next(c),error:c=>r.error(c),complete:()=>{n.delete(a);if(n.size===0){r.complete()}}});n.add(a)},error:i=>r.error(i),complete:()=>{if(n.size===0){r.complete()}}});return()=>{s.unsubscribe();n.forEach(i=>i.unsubscribe())}})}switchMap(e){return new t(r=>{let n=null;const s=this.subscribe({next:i=>{if(n){n.unsubscribe()}const o=e(i);n=o.subscribe({next:a=>r.next(a),error:a=>r.error(a),complete:()=>{if(n){n.unsubscribe();n=null}}})},error:i=>r.error(i),complete:()=>{if(n){n.unsubscribe()}r.complete()}});return()=>{s.unsubscribe();if(n){n.unsubscribe()}}})}toArray(){return new Promise((e,r)=>{const n=[];this.subscribe({next:s=>n.push(s),error:s=>r(s),complete:()=>e(n)})})}forEach(e){return new Promise((r,n)=>{this.subscribe({next:s=>e(s),error:s=>n(s),complete:()=>r()})})}every(e){return new Promise((r,n)=>{let s=true;this.subscribe({next:i=>{if(!e(i)){s=false;r(false)}},error:i=>n(i),complete:()=>r(s)})})}find(e){return new Promise((r,n)=>{const s=this.subscribe({next:i=>{if(e(i)){r(i);s.unsubscribe()}},error:i=>n(i),complete:()=>r(void 0)})})}some(e){return new Promise((r,n)=>{const s=this.subscribe({next:i=>{if(e(i)){r(true);s.unsubscribe()}},error:i=>n(i),complete:()=>r(false)})})}finally(e){return new t(r=>{const n=this.subscribe({next:s=>r.next(s),error:s=>{e();r.error(s)},complete:()=>{e();r.complete()}});return()=>{n.unsubscribe()}})}toState(e=null){const r=new N(e);this.onValue(n=>r.update(()=>n));return r}emit(e){this._observers.forEach(r=>r.next(e))}};var oe=class extends I{constructor(e){super();if(typeof e==="string"){this.element=document.querySelector(e);if(!this.element){throw new Error(`Element not found for selector: ${e}`)}}else if(e instanceof Element||e instanceof Document){this.element=e}else{throw new Error(`Invalid argument: ${e}`)}}on(e,r={}){return new I(n=>{const s=i=>{n.next(i)};this.element.addEventListener(e,s,r);return()=>{this.element.removeEventListener(e,s,r)}})}};var N=class extends w{constructor(e=null,r=null,{last:n=false}={}){super();if(n){this._lastObserver=r}else{this._observers.push(r)}this._value=C(e,s=>{});this._pendingUpdates=[];this._updateScheduled=false}get value(){if(K.isComputing!=null){K.isComputing.addDependency(this)}return this._value}set value(e){this.update(()=>e)}assign(e){if(typeof this._value!=="object"||this._value===null){throw new Error("[Cami.js] Observable value is not an object")}this.update(r=>Object.assign(r,e))}push(e){if(!Array.isArray(this._value)){throw new Error("[Cami.js] Observable value is not an array")}this.update(r=>{r.push(e)})}pop(){if(!Array.isArray(this._value)){throw new Error("[Cami.js] Observable value is not an array")}this.update(e=>{e.pop()})}splice(e,r,...n){if(!Array.isArray(this._value)){throw new Error("[Cami.js] Observable value is not an array")}this.update(s=>{s.splice(e,r,...n)})}update(e){this._pendingUpdates.push(e);if(!this._updateScheduled){this._updateScheduled=true;if(typeof window!=="undefined"){requestAnimationFrame(this._applyUpdates.bind(this))}else{Promise.resolve().then(this._applyUpdates.bind(this))}}}notifyObservers(){const e=[...this._observers,this._lastObserver];e.forEach(r=>{if(r&&typeof r==="function"){r(this._value)}else if(r&&r.next){r.next(this._value)}})}_applyUpdates(){let e=this._value;while(this._pendingUpdates.length>0){const r=this._pendingUpdates.shift();this._value=C(this._value,r)}if(e!==this._value){this.notifyObservers()}this._updateScheduled=false}};var K=class t extends N{constructor(e,r){super(null);this.computeFn=e;this.context=r;this.dependencies=new Set;this.children=new Set;this.subscriptions=new Map;this.compute()}get value(){t.isComputing=this;const e=this.computeFn.call(this.context);t.isComputing=null;return e}compute(){this.notifyChildren();this._value=this.computeFn.call(this.context);this.notifyObservers()}addDependency(e){if(!this.dependencies.has(e)){const r=e.onValue(()=>this.compute());this.dependencies.add(e);this.subscriptions.set(e,r);if(e instanceof t){e.addChild(this)}}}dispose(){this.notifyChildren();this.dependencies.forEach(e=>{const r=this.subscriptions.get(e);if(r){r.unsubscribe()}this.dependencies.delete(e);this.subscriptions.delete(e);if(e instanceof t){e.removeChild(this)}})}addChild(e){this.children.add(e)}removeChild(e){this.children.delete(e)}notifyChildren(){this.children.forEach(e=>{e.dispose()});this.children.clear()}};var ct=function(t){return new K(t,this)};var at=function(t){this._isWithinBatch=true;Promise.resolve().then(t).finally(()=>{this._isWithinBatch=false;this.react()})};var ut=function(t){let e=()=>{};const r=()=>{e();e=t.call(this)||(()=>{})};this._effects.push({effectFn:r,cleanup:e})};var ce=null;var lt=t=>{if(ce){return ce}let e=t;let r=[];let n={};let s=[];let i=[];let o=false;const a=window["__REDUX_DEVTOOLS_EXTENSION__"]&&window["__REDUX_DEVTOOLS_EXTENSION__"].connect();const c=f=>{s.push(f)};const u=f=>{r.push(f);return()=>{const b=r.indexOf(f);if(b>-1){r.splice(b,1)}}};const h=(f,b)=>{if(n[f]){throw new Error(`Action type ${f} is already registered.`)}n[f]=b};const l=()=>k(void 0,null,function*(){if(i.length===0){o=false;return}o=true;const{action:f,payload:b}=i.shift();const H=n[f];if(!H){console.warn(`No reducer found for action ${f}`);return}const F={getState:()=>e,dispatch:(U,ue)=>y(U,ue)};const ae=s.map(U=>U(F));const J=ae.reduce((U,ue)=>ue(U),g);yield J(f,b);l()});const y=(f,b)=>{i.push({action:f,payload:b});if(!o){l()}};const g=(f,b)=>k(void 0,null,function*(){let H;let F=null;H=C(e,ae=>{const J=n[f](ae,b);if(J instanceof Promise){F=J;return}});if(F){yield F}e=H;O(f);return H});const O=f=>{for(const b of r){b(e,f)}a&&a.send(f,e)};ce={state:e,subscribe:u,register:h,dispatch:y,use:c};return ce};var Ce=class extends HTMLElement{constructor(){super();this._unsubscribers=new Map;this.store=null;this._effects=[];this._isWithinBatch=false;this.computed=ct.bind(this);this.batch=at.bind(this);this.effect=ut.bind(this)}observable(e){const r=new N(e,n=>this.react.bind(this)(),{last:true});return r}observableAttr(e,r=n=>n){let n=this.getAttribute(e);n=C(n,r);return this.observable(n)}setObservables(e){Object.keys(e).forEach(r=>{if(this[r]instanceof w){this[r].next(e[r])}})}subscribe(e,r){this.store=e;const n=this.observable(e.state[r]);const s=e.subscribe(i=>{this[r].update(()=>i[r])});this._unsubscribers.set(r,s);return n}dispatch(e,r){this.store.dispatch(e,r)}connectedCallback(){this.react()}disconnectedCallback(){this._unsubscribers.forEach(e=>e());this._effects.forEach(({cleanup:e})=>e&&e())}react(){if(!this._isWithinBatch){const e=this.template();Ge(e,this);this._effects.forEach(({effectFn:r})=>r.call(this))}}template(){throw new Error("[Cami.js] You have to implement the method template()!")}};function Dt(t,e){if(!customElements.get(t)){customElements.define(t,e)}}return mt(zt);})();
/**
 * @license
 * Copyright (c) 2023 Kenn Costales
 * MIT License
 */
/*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
//# sourceMappingURL=cami.cdn.js.map
